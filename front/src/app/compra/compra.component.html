<div class="container-fluid p-5">
  <h2 class="text-center mb-4 bg-white py-3 rounded shadow-sm">
    <strong><i class="bi bi-bag-check"></i> Finalizar pedido:</strong>
  </h2>

  <div class="bg-white p-3 rounded shadow-sm">
    <div *ngFor="let product of cestProducts" class="row mb-3 p-3 border rounded align-items-center">
      <div class="col-auto text-center pe-2">
        <label for="productCheckbox-{{ product.producto.id }}">
          <input type="checkbox" id="productCheckbox-{{ product.producto.id }}" [checked]="product.selected" (change)="toggleSelection(product)" />
        </label>
      </div>

      <div class="col-12 col-md-2 text-center text-md-start mb-2 mb-md-0">
        <h5 class="mb-0">X {{ product.cantidadProducto }}</h5>
      </div>

      <div class="col-12 col-md-4 text-center text-md-start mb-2 mb-md-0">
        <h5 class="mb-0">{{ product.producto.descripcionCorta }}</h5>
      </div>

      <div class="col-12 col-md-1 text-center text-md-start mb-2 mb-md-0">
        <p class="mb-0">
          <strong>Talla: {{ product.talla }}</strong>
        </p>
      </div>

      <div class="col-12 col-md-1 text-center text-md-end mb-2 mb-md-0">
        <p class="mb-0">
          <strong>
            <span>{{ product.producto.precio.toFixed(0) }}</span>
            <sup>{{ product.producto.precio.toFixed(2).split('.')[1] }} €</sup> / ud
          </strong>
        </p>
      </div>

      <div class="col-12 col-md-3 text-center text-md-end mt-2 mt-md-0">
        <h4 class="mb-0">
          <strong>Precio: {{ (product.producto.precio * product.cantidadProducto).toFixed(2) }} €</strong>
        </h4>
      </div>
    </div>
  </div>

  <div class="bg-white text-center mt-4 p-3 rounded shadow-sm">
    <h1><strong>Total: {{ total.toFixed(2) }} €</strong></h1>

    <div class="mt-3">
      <button class="btn btn-success m-1" (click)="compra()">Finalizar pedido</button>
      <button class="btn btn-danger m-1" (click)="back()">Cancelar</button>
    </div>
  </div>
</div>